# Taskfile.yml for Clash Royale API project
# Requires: https://taskfile.dev/installation/

version: '3'

vars:
  PROJECT_NAME: clash-royale-api
  DATA_DIR: data
  TEST_PLAYER_TAG: '#PLAYERTAG'
  CR_API_BIN: bin/cr-api
  DECKBUILDER_BIN: bin/deckbuilder

dotenv: ['.env']

tasks:
  default:
    desc: Show available tasks
    cmds:
      - task --list

  setup:
    desc: Set up the development environment
    cmds:
      - echo "Setting up development environment..."
      - task: build
      - echo "Creating data directories..."
      - mkdir -p {{.DATA_DIR}}/{players,clans,analysis,static,reference}
      - mkdir -p scripts
      - echo "Copying example .env file..."
      - test -f .env || cp .env.example .env 2>/dev/null || echo "No .env.example found, creating basic .env"
      - test -f .env || echo -e "CLASH_ROYALE_API_TOKEN=your_api_token_here\nDATA_DIR={{.DATA_DIR}}" > .env
      - echo "✅ Setup complete!"
      - echo "Please edit .env file with your API token"

  install:
    desc: Build Go binaries
    cmds:
      - task: build

  build:
    desc: Build Go CLI binaries for local development
    cmds:
      - echo "Building Go binaries for local development..."
      - mkdir -p bin
      - go mod download
      - |
        VERSION=$(git describe --tags --always 2>/dev/null || echo 'dev')
        COMMIT=$(git rev-parse --short HEAD 2>/dev/null || echo 'unknown')
        BUILD_TIME=$(date -u '+%Y-%m-%dT%H:%M:%SZ')

        go build \
          -ldflags="-s -w -X main.version=$VERSION -X main.commit=$COMMIT -X main.buildTime=$BUILD_TIME" \
          -o bin/cr-api ./cmd/cr-api

        go build \
          -ldflags="-s -w -X main.version=$VERSION -X main.commit=$COMMIT -X main.buildTime=$BUILD_TIME" \
          -o bin/deckbuilder ./cmd/deckbuilder
      - echo "✅ Go binaries built successfully!"

  run:
    desc: Analyze a player's collection using the Go CLI
    summary: |
      Analyze a player's card collection and display upgrade needs using the Go binary

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        CLEAN_TAG="${PLAYER_TAG#\#}"
        echo "Analyzing $CLEAN_TAG with Go CLI..."
        {{.CR_API_BIN}} analyze --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}"
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  run-with-save:
    desc: Run Go CLI analysis and save results to JSON files
    summary: |
      Analyze a player and save the results to JSON files using the Go binary

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        CLEAN_TAG="${PLAYER_TAG#\#}"
        echo "Analyzing and saving results for $CLEAN_TAG..."
        {{.CR_API_BIN}} analyze --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --save
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  export-csv:
    desc: Export player and reference data to CSV using the Go CLI
    summary: |
      Export player's card collection and other data to CSV using the Go binary

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        CLEAN_TAG="${PLAYER_TAG#\#}"
        echo "Exporting player data for $CLEAN_TAG to CSV..."
        {{.CR_API_BIN}} player --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --export-csv --save

        echo "Exporting card database to CSV..."
        {{.CR_API_BIN}} cards --data-dir "{{.DATA_DIR}}" --export-csv
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  export-all:
    desc: Export all available data types for a player using the Go CLI
    summary: |
      Export player data, card database, and save analysis results using the Go binary

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        CLEAN_TAG="${PLAYER_TAG#\#}"
        echo "Exporting full dataset for $CLEAN_TAG..."
        {{.CR_API_BIN}} player --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --chests --export-csv --save
        {{.CR_API_BIN}} cards --data-dir "{{.DATA_DIR}}" --export-csv
        {{.CR_API_BIN}} analyze --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --save
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  build-deck:
    desc: Build an optimized 1v1 ladder deck from the latest analysis using Go binaries
    summary: |
      Runs card analysis (saved) and then builds a recommended 1v1 ladder deck.

      Args:
        player: Player tag to use (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        CLEAN_TAG="${PLAYER_TAG#\#}"

        echo "Running analysis for $CLEAN_TAG..."
        {{.CR_API_BIN}} analyze --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --save

        ANALYSIS_FILE="{{.DATA_DIR}}/analysis/${PLAYER_TAG}.json"
        if [ ! -f "$ANALYSIS_FILE" ]; then
          echo "Expected analysis file not found at $ANALYSIS_FILE" >&2
          exit 1
        fi

        echo "Building optimized 1v1 deck from latest analysis..."
        {{.DECKBUILDER_BIN}} -tag "$CLEAN_TAG" -data-dir "{{.DATA_DIR}}" -analysis-file "$ANALYSIS_FILE"
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"
      - sh: test -x {{.DECKBUILDER_BIN}}
        msg: "deckbuilder binary not found. Build it with: task build"

  war-decks:
    desc: Build a 4-deck war lineup with no repeated cards
    summary: |
      Builds an optimized 4-deck war lineup using archetype-based deck building.
      Automatically finds the best combination of archetypes to maximize deck quality
      while ensuring zero card overlap across all 4 decks.

      Args:
        player: Player tag (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        CLEAN_TAG="${PLAYER_TAG#\#}"
        echo "Building war deck lineup for $CLEAN_TAG..."
        {{.CR_API_BIN}} deck war --tag "$CLEAN_TAG"
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  # Event Deck Tasks
  scan-events:
    desc: Scan battle logs for event decks using Go CLI
    summary: |
      Automatically scan and import event decks from battle logs using the Go binary

      Args:
        player: Player tag to scan (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
        days: Number of days to scan back (default: 7)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        # Extract days from end of args if present, otherwise use default
        DAYS="{{.DAYS_BACK}}"

        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Scanning event decks for $CLEAN_TAG (last $DAYS days)..."
        {{.CR_API_BIN}} events scan --tag "$CLEAN_TAG" --days "$DAYS" --data-dir "{{.DATA_DIR}}" --save
    vars:
      DAYS_BACK:
        sh: "echo '{{.ARGS}}' | grep -oE '[0-9]+$' || echo '7'"
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  export-events:
    desc: Export event decks to CSV using Go CLI
    summary: |
      Export event decks with performance data to CSV using the Go binary

      Args:
        player: Player tag to export (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Exporting event decks for $CLEAN_TAG to CSV..."
        {{.CR_API_BIN}} events list --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --export-csv
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  export-decks:
    desc: Export event decks in deck builder format using Go CLI
    summary: |
      Export event decks for sharing on deck builder sites using the Go binary

      Args:
        player: Player tag to export (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Exporting event decks for $CLEAN_TAG in deck builder format..."
        # Note: The Go CLI doesn't have a specific deck builder export yet,
        # so we'll export the event list which can be used for deck building
        {{.CR_API_BIN}} events list --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --export-csv
        echo "Deck builder format exported to CSV - can be imported into deck building sites"
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  analyze-events:
    desc: Analyze event deck performance using Go CLI
    summary: |
      Analyze event deck performance with detailed insights using the Go binary

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Analyzing event performance for $CLEAN_TAG..."
        {{.CR_API_BIN}} events analyze --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --min-battles 5 --export-csv
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  sync-events:
    desc: Sync recent event activity using Go CLI
    summary: |
      Sync and analyze recent event activity from battle logs using the Go binary

      Args:
        player: Player tag to sync (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Syncing recent events for $CLEAN_TAG (last 7 days)..."
        {{.CR_API_BIN}} events scan --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --days 7 --save
        echo "Sync complete! Use 'task analyze-events -- $CLEAN_TAG' to analyze the data."
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  # Archetype Analysis Tasks
  analyze-archetypes:
    desc: Analyze archetype variety and upgrade costs using Go CLI
    summary: |
      Generate decks for all 8 archetypes and calculate upgrade costs to target level

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
        target-level: Target competitive card level (default: 11)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Analyzing archetype variety for $CLEAN_TAG..."
        {{.CR_API_BIN}} archetypes --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}"
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  export-archetypes:
    desc: Analyze and export archetype data to CSV using Go CLI
    summary: |
      Generate archetype analysis and export to CSV with upgrade details

      Args:
        player: Player tag to analyze (optional, will use DEFAULT_PLAYER_TAG from .env if not provided)
    cmds:
      - |
        PLAYER_TAG="{{.CLI_ARGS}}"
        if [ -z "$PLAYER_TAG" ]; then
          PLAYER_TAG="${DEFAULT_PLAYER_TAG}"
        fi

        if [ -z "$PLAYER_TAG" ]; then
          echo "Please provide a player tag or set DEFAULT_PLAYER_TAG in .env" >&2
          exit 1
        fi

        # Remove any surrounding quotes from PLAYER_TAG
        CLEAN_TAG=$(echo "$PLAYER_TAG" | sed "s/^'//;s/'$//" | sed 's/^"//;s/"$//')
        CLEAN_TAG="${CLEAN_TAG#\#}"

        echo "Analyzing and exporting archetype data for $CLEAN_TAG to CSV..."
        {{.CR_API_BIN}} archetypes --tag "$CLEAN_TAG" --data-dir "{{.DATA_DIR}}" --export-csv --save
    preconditions:
      - sh: test -x {{.CR_API_BIN}}
        msg: "cr-api binary not found. Build it with: task build"

  test:
    desc: Run Go tests
    summary: |
      Run all tests for the project.
      - Go tests: Run all Go package tests with coverage
    cmds:
      - task: test-go

  lint:
    desc: Run linting on Go code
    summary: |
      Run linter on Go code
      - golangci-lint (comprehensive linting)
      - go vet (built-in vet)
    cmds:
      - echo "Running golangci-lint..."
      - cd go && golangci-lint run --timeout=5m || echo "golangci-lint not found, running go vet..."
      - cd go && go vet ./...

  format:
    desc: Format Go code
    summary: |
      Format Go code
      - Go: go fmt
    cmds:
      - echo "Formatting Go code..."
      - cd go && go fmt ./...

  clean:
    desc: Clean up generated files
    cmds:
      - echo "Cleaning up..."
      - rm -rf {{.DATA_DIR}}/
      - echo "✅ Clean complete!"

  status:
    desc: Show project status
    cmds:
      - 'echo "=== Project Status ==="'
      - 'echo "Project name: {{.PROJECT_NAME}}"'
      - 'echo "Data directory: {{.DATA_DIR}}"'
      - echo ''
      - 'echo "=== Environment ==="'
      - 'test -f .env && echo "✅ .env file exists" || echo "❌ .env file missing"'
      - 'test -f .env && grep -q "CLASH_ROYALE_API_TOKEN=" .env && echo "✅ API token configured" || echo "❌ API token not configured"'

  test-go:
    desc: Run Go tests only
    summary: |
      Run Go tests with coverage and race detection
    cmds:
      - echo "Running Go tests..."
      - |
        if [ -f ".env" ]; then
          # Export only valid variable names from .env (skip lines with # or invalid names)
          set -a
          while IFS='=' read -r key value; do
            # Skip lines starting with #, empty lines, or keys with invalid characters
            if [[ ! "$key" =~ ^[[:space:]]*# ]] && [[ "$key" =~ ^[A-Za-z_][A-Za-z0-9_]*$ ]]; then
              export "$key=$value"
            fi
          done < .env
          set +a
        fi && \
        go test -v -race -coverprofile=coverage.out ./... 2>/dev/null || go test -v ./...
      - go tool cover -func=coverage.out | tail -1 || echo "Coverage report not available"

  # CI/CD Tasks
  install-tools:
    desc: Install development tools
    summary: |
      Install required development tools for the project
    cmds:
      - echo "Installing development tools..."
      - |
        # Install golangci-lint
        if ! command -v golangci-lint &> /dev/null; then
          echo "Installing golangci-lint..."
          go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
        else
          echo "golangci-lint already installed"
        fi

        # Install gosec
        if ! command -v gosec &> /dev/null; then
          echo "Installing gosec..."
          go install github.com/securecodewarrior/gosec/v2/cmd/gosec@latest
        else
          echo "gosec already installed"
        fi

        echo "✅ Development tools installed!"

  security-scan:
    desc: Run security scanning
    summary: |
      Run security vulnerability scanning
    cmds:
      - echo "Running security scan..."
      - cd go && gosec ./... || echo "gosec not found, skipping security scan"

  install-goreleaser:
    desc: Install GoReleaser
    summary: |
      Install GoReleaser for release management
    cmds:
      - |
        if ! command -v goreleaser &> /dev/null; then
          echo "Installing GoReleaser..."
          go install github.com/goreleaser/goreleaser/v2@latest
        else
          echo "GoReleaser already installed: $(goreleaser --version)"
        fi

  check-release:
    desc: Validate GoReleaser configuration
    summary: |
      Check .goreleaser.yml configuration for errors
    cmds:
      - goreleaser check
    preconditions:
      - sh: command -v goreleaser
        msg: "GoReleaser not found. Install with: task install-goreleaser"

  snapshot:
    desc: Build snapshot release (test release process)
    summary: |
      Build binaries for all platforms without publishing.
      Useful for testing the release process locally.
    deps:
      - generate-completion
    cmds:
      - echo "Building snapshot release..."
      - goreleaser release --snapshot --clean --skip=publish
      - echo "✅ Snapshot built in dist/"
      - ls -la dist/
    preconditions:
      - sh: command -v goreleaser
        msg: "GoReleaser not found. Install with: task install-goreleaser"

  release:
    desc: Create production release with GoReleaser
    summary: |
      Build and release binaries for all platforms using GoReleaser.
      This should be run on tag creation (CI handles this automatically).

      Requires: GITHUB_TOKEN environment variable
    deps:
      - generate-completion
    cmds:
      - echo "Running GoReleaser release..."
      - goreleaser release --clean
    preconditions:
      - sh: command -v goreleaser
        msg: "GoReleaser not found. Install with: task install-goreleaser"
      - sh: test -n "$GITHUB_TOKEN"
        msg: "GITHUB_TOKEN environment variable required for releases"

  generate-completion:
    desc: Generate shell completion scripts for GoReleaser
    summary: |
      Generate auto-completion scripts for bash, zsh, and fish.
      Required before running GoReleaser release/snapshot.
    deps:
      - build
    cmds:
      - echo "Generating shell completion scripts..."
      - |
        cd go
        mkdir -p dist/completion

        # urfave/cli/v3 may not support --completion flags
        # Create placeholder completion files for now
        # TODO: Implement proper completion scripts

        touch dist/completion/cr-api.bash
        touch dist/completion/cr-api.zsh
        touch dist/completion/cr-api.fish
        touch dist/completion/deckbuilder.bash
        touch dist/completion/deckbuilder.zsh
        touch dist/completion/deckbuilder.fish

        echo "✅ Completion placeholders created in dist/completion/"
        echo "TODO: Implement actual shell completions"

help:
    desc: Show API usage examples (Go CLI)
    cmds:
      - echo "Clash Royale API - Go CLI Usage Examples:"
      - echo "=========================================="
      - echo ''
      - echo "Prerequisites:"
      - 'echo "1. Build binaries: task build"'
      - 'echo "2. Set CLASH_ROYALE_API_TOKEN in .env file"'
      - 'echo "3. Install dev tools: task install-tools (optional, for linting)"'
      - echo ''
      - echo "Basic Player Operations:"
      - 'echo "1. Basic player analysis: task run -- #PLAYER_TAG"'
      - 'echo "2. Save results: task run-with-save -- #PLAYER_TAG"'
      - 'echo "3. Export to CSV: task export-csv -- #PLAYER_TAG"'
      - 'echo "4. Export all data: task export-all -- #PLAYER_TAG"'
      - 'echo "5. Build optimized deck: task build-deck -- #PLAYER_TAG"'
      - 'echo "6. Build war deck lineup: task war-decks -- #PLAYER_TAG"'
      - echo ''
      - echo "Event Deck Operations (using Go CLI):"
      - 'echo "7. Scan for event decks: task scan-events -- #PLAYER_TAG"'
      - 'echo "8. Export event decks: task export-events -- #PLAYER_TAG"'
      - 'echo "9. Export deck builder format: task export-decks -- #PLAYER_TAG"'
      - 'echo "10. Analyze events: task analyze-events -- #PLAYER_TAG"'
      - 'echo "11. Sync recent events: task sync-events -- #PLAYER_TAG"'
      - echo ''
      - echo "Development Commands:"
      - 'echo "- Build: task build"'
      - 'echo "- Test: task test"'
      - 'echo "- Lint: task lint (includes golangci-lint)"'
      - 'echo "- Format: task format"'
      - 'echo "- Security scan: task security-scan"'
      - echo ''
      - echo "Release/CI Commands:"
      - 'echo "- Build all platforms: task build-all"'
      - 'echo "- Build release artifacts: task build-release"'
      - 'echo "- Generate shell completion: task generate-completion"'
      - 'echo "- Install dev tools: task install-tools"'
      - echo ''
      - 'echo "Replace #PLAYER_TAG with actual tag (e.g., '#PLAYERTAG')"'
      - 'echo "Project is now Go-only with CI/CD support!"'
